(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{163:function(e,t,n){},169:function(e,t,n){},172:function(e,t,n){},191:function(e,t,n){},195:function(e,t,n){},196:function(e,t,n){},197:function(e,t,n){},198:function(e,t,n){},199:function(e,t,n){},201:function(e,t,n){},205:function(e,t,n){},206:function(e,t,n){},207:function(e,t,n){},208:function(e,t,n){},209:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(0),r=n.n(c),i=n(20),s=n.n(i),o=(n(163),n(29)),j=n(24),l=n(28),u=n(19),d=n.n(u),b=n(27),h=n(11),O=n(30),p=n(23),f=n(279),x=n(280),m=n(281),g=n(300),v=n(282),y=n(304),w=n(211),N=n(283),S=n(284),T=n(133),_=n.n(T),k=n(303);n(169);var L=function(e){var t=e.avatar,n=e.Icon,c=e.title;return Object(a.jsxs)("div",{className:"HeaderOption",children:[n&&Object(a.jsx)(n,{className:"headerOption__icon",src:n}),t&&Object(a.jsx)(k.a,{className:"headerOption__icon",src:t}),Object(a.jsx)("h3",{className:"headerOption__title",children:c})]})},A=n(131),C=n.n(A),E=n(132),q=n.n(E),P=[{label:"Home",href:"/",icon:C.a},{label:"Create",href:"/create_post",icon:q.a},{label:"Profile",href:"/profile",avatar:"/broken-image.jpg"}],B=Object(f.a)((function(){return{header:{backgroundColor:"#323232",paddingRight:"79px",paddingLeft:"118px","@media (max-width: 900px)":{paddingLeft:0}},logoHeader:{padding:"20px",backgroundColor:"#323232",fontFamily:"Open Sans, sans-serif",color:"White"},logo:{fontFamily:"Work Sans, sans-serif",fontWeight:600,color:"#FF0000",textAlign:"left"},menuButton:{fontFamily:"Open Sans, sans-serif",fontWeight:700,size:"18px",marginLeft:"38px"},toolbar:{display:"flex",justifyContent:"space-between"},drawerContainer:{padding:"20px 30px"}}}));function F(){var e=B(),t=e.header,n=e.logo,r=e.menuButton,i=e.toolbar,s=e.drawerContainer,j=e.logoHeader,l=Object(c.useState)({mobileView:!1,drawerOpen:!1}),u=Object(h.a)(l,2),d=u[0],b=u[1],O=d.mobileView,f=d.drawerOpen;Object(c.useEffect)((function(){var e=function(){return window.innerWidth<900?b((function(e){return Object(p.a)(Object(p.a)({},e),{},{mobileView:!0})})):b((function(e){return Object(p.a)(Object(p.a)({},e),{},{mobileView:!1})}))};e(),window.addEventListener("resize",(function(){return e()}))}),[]);var T=function(){return P.map((function(e){var t=e.label,n=e.href,c=e.icon,r=e.avatar;return Object(a.jsx)(v.a,Object(p.a)(Object(p.a)({},{component:o.b,to:n,color:"inherit",style:{textDecoration:"none"},key:t}),{},{children:Object(a.jsx)(y.a,{children:Object(a.jsx)(L,{Icon:c,avatar:r,title:t})})}))}))},k=Object(a.jsx)(w.a,{variant:"h5",component:"h1",className:n,children:"Curiosite"}),A=function(){return P.map((function(e){var t=e.label,n=e.href;return Object(a.jsx)(N.a,Object(p.a)(Object(p.a)({},{key:t,color:"inherit",to:n,component:o.b,className:r}),{},{children:t}))}))};return Object(a.jsx)("header",{children:Object(a.jsx)(S.a,{className:t,children:O?Object(a.jsxs)(x.a,{children:[Object(a.jsx)(m.a,Object(p.a)(Object(p.a)({},{edge:"start",color:"inherit","aria-label":"menu","aria-haspopup":"true",onClick:function(){return b((function(e){return Object(p.a)(Object(p.a)({},e),{},{drawerOpen:!0})}))}}),{},{children:Object(a.jsx)(_.a,{})})),Object(a.jsxs)(g.a,Object(p.a)(Object(p.a)({},{anchor:"left",open:f,onClose:function(){return b((function(e){return Object(p.a)(Object(p.a)({},e),{},{drawerOpen:!1})}))}}),{},{children:[Object(a.jsx)("div",{className:j,children:Object(a.jsx)("h2",{children:"  Curiosite"})}),Object(a.jsx)("div",{className:s,children:T()})]})),Object(a.jsx)("div",{children:k})]}):Object(a.jsxs)(x.a,{className:i,children:[k,Object(a.jsx)("div",{children:A()})]})})})}n(172);function D(e){return Object(a.jsxs)("div",{children:[Object(a.jsx)(F,{}),Object(a.jsx)("div",{className:"content_body",children:e.children})]})}var I=n(15),z=n(306),H=n(308),W=n(309),Q=n(302),J=n(297),G=n(305),R=n(295),V=n(66),M=n.n(V),U=function(e,t,n,a,c){return{type:"LOGIN",payload:{firstName:e,lastName:t,email:n,id:a,tags:c}}},Y=function(e){return{type:"PATCH TAGS",payload:e}},X=(n(191),function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.user})),n=Object(l.c)((function(e){return e.tags})),r=t.firstName+" "+t.lastName,i=t.email,s=Object(c.useState)(!0),o=Object(h.a)(s,2),u=o[0],p=o[1],f=Object(c.useState)([]),x=Object(h.a)(f,2),m=x[0],g=x[1],v=Object(c.useState)([]),y=Object(h.a)(v,2),w=y[0],N=y[1],S=Object(c.useState)(!1),T=Object(h.a)(S,2),_=T[0],k=T[1],L=Object(c.useState)(""),A=Object(h.a)(L,2),C=A[0],E=A[1];Object(c.useEffect)((function(){if(0===w.length&&0===m.length){var e=[];n.forEach((function(t){e.push(t._id)}));var a=e.filter((function(e){return-1===t.tags.indexOf(e)}));N(a),g(t.tags)}}),[w]);var q=function(){var t=Object(b.a)(d.a.mark((function t(n){var a,c,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=(new O.a).get("idToken"),t.next=3,fetch("http://localhost:5000/add_tags",{method:"PATCH",headers:{Authorization:"Bearer "+a,"Content-type":"application/json",Accept:"application/json"},body:JSON.stringify({tags:n})});case 3:return c=t.sent,t.next=6,c.json();case 6:(r=t.sent).error?"Please authenticate"!==r.error?E("Failure"):p(!1):(e(Y(n)),E("Success")),k(!1);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return!1===u?Object(a.jsx)(j.a,{path:"/"}):Object(a.jsx)(H.a,{children:Object(a.jsx)(W.a,{elevation:15,sx:{minHeight:750},children:Object(a.jsxs)(H.a,{children:[Object(a.jsx)(R.a,{label:"Name",defaultValue:"".concat(r),InputProps:{readOnly:!0},fullWidth:!0,sx:{marginBottom:5,marginTop:5}}),Object(a.jsx)(R.a,{label:"Email",defaultValue:"".concat(i),InputProps:{readOnly:!0},fullWidth:!0}),Object(a.jsxs)(Q.a,{container:!0,spacing:2,children:[Object(a.jsxs)(Q.a,{item:!0,md:6,sm:12,children:[Object(a.jsx)(G.a,{variant:"h5",sx:{marginTop:2,marginLeft:2},children:"Subscribed tags"}),Object(a.jsx)(z.a,{sx:{minHeight:400,marginTop:2,minWidth:300},children:Object(a.jsx)("ul",{id:"tags",children:m.map((function(e,t){return Object(a.jsxs)("li",{className:"tag",children:[Object(a.jsx)("span",{className:"tag-title",children:e}),Object(a.jsx)("span",{className:"tag-close-icon",onClick:function(){return function(e){var t=m[e];g(Object(I.a)(m.filter((function(t,n){return n!==e}))));var n=w;n.push(t),N(n)}(t)},children:"x"})]},t)}))})})]}),Object(a.jsxs)(Q.a,{item:!0,md:6,sm:12,children:[Object(a.jsx)(G.a,{variant:"h5",sx:{marginTop:2,marginLeft:2},children:"Other tags"}),Object(a.jsx)(z.a,{sx:{minHeight:400,marginTop:2},children:Object(a.jsx)("ul",{id:"tags",children:w.map((function(e,t){return Object(a.jsx)("li",{className:"tag",children:Object(a.jsx)("span",{className:"tag-title",onClick:function(e){return function(e){var t=w.indexOf(e);m.includes(e)||g([].concat(Object(I.a)(m),[e])),N(Object(I.a)(w.filter((function(e,n){return n!==t}))))}(e.target.innerText)},children:e})},t)}))})})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{style:{color:"Success"===C?"green":"red",paddingBottom:"5px",paddingLeft:"3em"},children:"Success"===C?"Tags subsribed!":"Failure"===C?"Tags not added. Please retry later!":C}),!1===_?Object(a.jsx)(J.a,{variant:"contained",color:"success",sx:{marginLeft:3},onClick:function(){k(!0),q(m)},children:"Subscribe Tags"}):Object(a.jsx)(M.a,{type:"Oval",color:"#00BFFF",height:45,width:45,visible:!0})]})]})]})})})}),Z=n(210),K=n(292),$=n(293),ee=n(296),te=(n(195),function(){var e=Object(j.g)(),t=Object(l.c)((function(e){return e.user})),n=Object(l.c)((function(e){var t=[];return e.tags.forEach((function(e){t.push(e._id)})),t})),r=Object(c.useState)(!0),i=Object(h.a)(r,2),s=i[0],o=i[1],u=Object(c.useState)({}),f=Object(h.a)(u,2),x=f[0],m=f[1],g=Object(c.useState)(""),v=Object(h.a)(g,2),y=v[0],S=v[1],T=Object(c.useState)({Finalquery:"",Finaltags:[]}),_=Object(h.a)(T,2),k=_[0],L=_[1],A=Object(c.useState)([]),C=Object(h.a)(A,2),E=C[0],q=C[1],P=Object(c.useState)([]),B=Object(h.a)(P,2),F=B[0],D=B[1],W=Object(c.useState)(!1),Q=Object(h.a)(W,2),J=Q[0],G=Q[1],R=Object(c.useState)(""),V=Object(h.a)(R,2),U=V[0],Y=V[1],X=function(){var e=Object(b.a)(d.a.mark((function e(){var t,a,c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new O.a,a=t.get("idToken"),e.next=4,fetch("http://localhost:5000/question",{method:"POST",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({question:y,email:x.email,tags:F})});case 4:return c=e.sent,e.next=7,c.json();case 7:"Please authenticate"===(r=e.sent).error?o(!1):(setTimeout((function(){L((function(e){return Object(p.a)(Object(p.a)({},e),{},{Finalquery:y,Finaltags:F})})),D([]),q(n),S("")}),0),setTimeout((function(){void 0===r.error?(G(!1),Y("Success")):Y("Failure")}),0));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){if(0===E.length&&0===F.length){var e=Object(I.a)(n);q(e)}}),[E]),Object(c.useEffect)((function(){x!=={}&&m(t),""!==U&&setTimeout((function(){Y("")}),2500)}),[x,k,e]);return!1===s?Object(a.jsx)(j.a,{path:"/"}):Object(a.jsx)(H.a,{children:Object(a.jsx)(Z.a,{elevation:15,sx:{minHeight:750},children:Object(a.jsxs)(H.a,{children:[Object(a.jsx)(K.a,{}),Object(a.jsx)(w.a,{variant:"h4",align:"center",component:"h1",gutterBottom:!0,children:"Have a question?"}),Object(a.jsx)(w.a,{variant:"h5",align:"center",component:"h2",gutterBottom:!0,children:"Raise your query"}),Object(a.jsx)(w.a,{paragraph:!0,align:"center",children:"Add tags to your question for better reach"}),Object(a.jsx)(Z.a,{style:{padding:16},children:Object(a.jsx)("form",{children:Object(a.jsxs)($.a,{container:!0,alignItems:"flex-start",spacing:2,children:[Object(a.jsx)($.a,{item:!0,sm:12,xs:12,children:Object(a.jsx)(ee.a,{required:!0,error:""===y,helperText:""===y?"Cannot be left empty!":" ",label:"Note",type:"text",value:y,onChange:function(e){S(e.target.value)},fullWidth:!0,autoFocus:!0,multiline:!0,placeholder:"Ask Your Question Here"})}),Object(a.jsx)($.a,{item:!0,xs:12,style:{marginTop:36},children:Object(a.jsxs)($.a,{container:!0,spacing:2,children:[Object(a.jsxs)($.a,{item:!0,md:6,sm:12,children:[Object(a.jsx)(w.a,{variant:"h5",sx:{marginTop:2,marginLeft:2},children:"Question tags"}),Object(a.jsx)(z.a,{sx:{minHeight:400,marginTop:2,minWidth:300},children:Object(a.jsx)("ul",{id:"tags",children:F.map((function(e,t){return Object(a.jsxs)("li",{className:"tag",children:[Object(a.jsx)("span",{className:"tag-title",children:e}),Object(a.jsx)("span",{className:"tag-close-icon",onClick:function(){return function(e){var t=F[e];D(Object(I.a)(F.filter((function(t,n){return n!==e}))));var n=E;n.push(t),q(n)}(t)},children:"x"})]},t)}))})})]}),Object(a.jsxs)($.a,{item:!0,md:6,sm:12,children:[Object(a.jsx)(w.a,{variant:"h5",sx:{marginTop:2,marginLeft:2},children:"Other tags"}),Object(a.jsx)(z.a,{sx:{minHeight:400,marginTop:2},children:Object(a.jsx)("ul",{id:"tags",children:E.map((function(e,t){return Object(a.jsx)("li",{className:"tag",children:Object(a.jsx)("span",{className:"tag-title",onClick:function(e){return function(e){var t=E.indexOf(e);F.includes(e)||D([].concat(Object(I.a)(F),[e])),q(Object(I.a)(E.filter((function(e,n){return n!==t}))))}(e.target.innerText)},children:e})},t)}))})})]})]})}),Object(a.jsxs)($.a,{item:!0,style:{marginTop:10},children:[Object(a.jsx)("div",{style:{color:"Success"==U?"green":"red",paddingBottom:"5px"},children:"Success"===U?"Question posted successfully!":"Failure"===U?"Question not posted. Please retry later!":U}),!1===J?Object(a.jsx)(N.a,{variant:"contained",color:"primary",type:"submit",fullWidth:!0,onClick:function(e){""!==y&&(e.preventDefault(),G(!0),X())},children:"Submit"}):Object(a.jsx)(M.a,{type:"Oval",color:"#00BFFF",height:45,width:45,visible:!0})]})]})})})]})})})}),ne=(n(196),n(197),n(294)),ae=(n(198),n(136)),ce=n.n(ae);var re=function(){var e=Object(c.useState)([]),t=Object(h.a)(e,2),n=t[0],r=t[1];return Object(c.useEffect)((function(){if(0===n.length){var e=(new O.a).get("idToken");(function(){var t=Object(b.a)(d.a.mark((function t(){var a,c,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://localhost:5000/trending_questions",{method:"GET",headers:{"Content-Type":"applicaion/json",Authorization:"Bearer "+e}});case 2:return a=t.sent,t.next=5,a.json();case 5:(c=t.sent).error||(i=n.concat(c.questionList),r(i));case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}})),Object(a.jsxs)("div",{className:"Widgets",children:[Object(a.jsxs)("div",{className:"Widgets__header",children:[Object(a.jsx)("div",{style:{color:"#c21808",fontSize:"20px",fontFamily:"inherit",textAlign:"center",textDecoration:"bold"},children:"Trending"}),Object(a.jsx)(ne.a,{})]}),n.map((function(e,t){var n=e.bloomIndexSum;return function(e,t){var n={pathname:"/question/".concat(e._id),state:{AuthorEmail:e.author.email,content:e.content,tags:e.tags,name:e.author.firstName+" "+e.author.lastName}};return Object(a.jsx)(o.b,{to:n,children:Object(a.jsxs)("div",{className:"widgets__Article",children:[Object(a.jsx)("div",{className:"widgets__Articleleft",children:Object(a.jsx)(ce.a,{})}),Object(a.jsxs)("div",{className:"widgets__Articleright",children:[Object(a.jsx)("h4",{children:e.content}),Object(a.jsx)("p",{children:t})]})]})})}(e,"".concat(n," Reaction").concat(1===n?"":"s"))}))]})},ie=n(299);var se=function(){var e=Object(c.useState)([]),t=Object(h.a)(e,2),n=t[0],r=t[1],i=Object(l.c)((function(e){return e.tags})),s=Object(l.b)(),j=function(){var e=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:0===n.length&&(i&&0!==i.length?r(Object(I.a)(i)):function(){var e=Object(b.a)(d.a.mark((function e(){var t,n,a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(new O.a).get("idToken"),e.next=3,fetch("http://localhost:5000/all_tags",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}});case 3:return n=e.sent,e.next=6,n.json();case 6:(a=e.sent).tagList&&(c=a.tagList,s({type:"INITIALIZE",payload:(i=c)?Object(I.a)(i):[]}),r(c));case 8:case"end":return e.stop()}var i}),e)})));return function(){return e.apply(this,arguments)}}()());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){j()})),Object(a.jsx)(ie.a,{xsDown:!0,children:Object(a.jsxs)("div",{className:"Sidebar",children:[Object(a.jsx)("div",{className:"sidebar__button",children:Object(a.jsx)(re,{})}),Object(a.jsxs)("div",{className:"sidebar__button",children:[Object(a.jsx)("div",{style:{color:"#c21808",fontSize:"20px",fontFamily:"inherit",textAlign:"center",textDecoration:"bold"},children:"Tags"}),Object(a.jsx)(ne.a,{}),n.map((function(e){return t=e._id,Object(a.jsx)(o.b,{to:{pathname:"/tag_questions/".concat(t)},children:Object(a.jsxs)("div",{className:"sidebar__recentitem",children:[Object(a.jsx)("span",{className:"sidebar__hash",children:"#"}),Object(a.jsx)("p",{children:t})]})});var t}))]})]})})},oe=(n(199),Object(f.a)((function(e){return{root:{padding:"2px 4px",display:"flex",alignItems:"center",maxWidth:4e3},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10}}})));function je(e){var t=oe(),n=Object(c.useState)({}),r=Object(h.a)(n,2),i=r[0],s=r[1],j=function(){var e=Object(b.a)(d.a.mark((function e(){var t,n,a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new O.a,n=t.get("idToken"),e.next=4,fetch("http://localhost:5000/unanswered_question",{method:"GET",headers:{Authorization:"Bearer "+n,"Content-type":"application/json",Accept:"application/json"}});case 4:return a=e.sent,e.next=7,a.json();case 7:!(c=e.sent).error&&c.question&&s(c.question);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){JSON.stringify(i)===JSON.stringify({})&&j()})),Object(a.jsx)($.a,{container:!0,xs:12,justify:"space-around",style:{minHeight:"20vh",maxWidth:"100%"},children:Object(a.jsx)($.a,{item:!0,md:3,alignItems:"center",children:JSON.stringify(i)!==JSON.stringify({})?Object(a.jsx)(o.b,{to:{pathname:"/question/".concat(i._id),state:{AuthorEmail:i.author.email,content:i.content,tags:i.tags,name:i.author.firstName+" "+i.author.lastName}},children:Object(a.jsx)(N.a,{variant:"contained",size:"large",color:"default",className:t.margin,children:"Random question"})}):Object(a.jsx)("div",{})})})}var le=n(137),ue=n.n(le);n(201);var de=n(62),be=function(e){var t=new Date,n=new Date(e);if(de.a.isSameDay(t,n)){var a=de.a.format(t,"H"),c=de.a.format(n,"H");if(a===c){var r=parseInt(de.a.format(t,"m")-parseInt(de.a.format(n,"m")));return"Posted ".concat(r," minute").concat(1===r?"":"s"," ago")}return"Posted ".concat(a-c," hour").concat(a-c===1?"":"s"," ago")}return"Posted on ".concat(de.a.format(n,"DD-MM-YYYY"))},he=function(e){var t=e.questionData,n=t.author.email,c=t.content,r=t.tags,i="".concat(t.author.firstName,"  ").concat(t.author.lastName),s=t.createdAt,j=t._id,l={pathname:"/question/".concat(j),state:{AuthorEmail:n,content:c,tags:r,name:i,questionData:t}};return Object(a.jsx)(o.b,{to:l,children:Object(a.jsxs)("div",{className:"Post",children:[Object(a.jsxs)("div",{className:"post__header",children:[Object(a.jsx)(k.a,{}),Object(a.jsxs)("div",{className:"post__info",children:[Object(a.jsx)("h2",{children:i}),Object(a.jsx)("p",{children:n}),Object(a.jsx)("p",{children:Object(a.jsx)("b",{children:be(s)})})]})]}),Object(a.jsx)("div",{className:"post__body",children:Object(a.jsx)("p",{children:c})}),Object(a.jsx)("div",{className:"post__tags",children:r.map((function(e,t){return Object(a.jsx)("div",{className:"tag-ele",children:e},t)}))})]})})},Oe=Object(f.a)((function(e){return{root:{padding:"2px 4px",display:"column",alignItems:"center",maxWidth:4e3,marginLeft:e.spacing(1)}}}));function pe(e){var t=Object(c.useState)(!0),n=Object(h.a)(t,2),r=n[0],i=n[1],s=Object(c.useState)({feedList:[],skipPage:0,tagsQuestionListSaturated:!1,totalQuestionListSaturated:!1,feedFetchDateTime:(new Date).getTime()}),o=Object(h.a)(s,2),u=o[0],f=o[1],x=(Object(l.c)((function(e){return e.feed})),function(){var e=Object(b.a)(d.a.mark((function e(){var t,n,a,c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(new O.a).get("idToken"),n="http://localhost:5000/follows_questions?limit=5&skip="+u.skipPage+"&date="+u.feedFetchDateTime,e.next=4,fetch(n,{method:"POST",headers:{Authorization:"Bearer "+t,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({tags:[],tagsQuestionListSaturated:u.tagsQuestionListSaturated})});case 4:return a=e.sent,e.next=7,a.json();case 7:(c=e.sent).error?"Please authenticate!"===c.error&&i(!1):((r=Object(p.a)({},u)).tagsQuestionListSaturated=c.tagsQuestionListSaturated,r.totalQuestionListSaturated=c.totalQuestionListSaturated,0!==c.questionList.length&&(r.feedFetchDateTime=c.questionList[c.questionList.length-1].creationTime),r.feedList=r.feedList.concat(c.questionList),f(r));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),m=function(){var e=Object(b.a)(d.a.mark((function e(t){var n,a,c,r,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(new O.a).get("idToken"),a="http://localhost:5000/tag_questions?limit=5&skip="+u.skipPage+"&date="+u.feedFetchDateTime,e.next=4,fetch(a,{method:"POST",headers:{Authorization:"Bearer "+n,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({tags:[t]})});case 4:return c=e.sent,e.next=7,c.json();case 7:(r=e.sent).error?"Please authenticate"===r.error&&i(!1):((s=Object(p.a)({},u)).totalQuestionListSaturated=r.questionListSaturated,0!==r.questionList.length&&(s.feedFetchDateTime=r.questionList[r.questionList.length-1].creationTime),s.feedList=s.feedList.concat(r.questionList),f(s));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=Oe(),v=Object(a.jsx)("div",{className:"loader",style:{width:"100%",textAlign:"center"},children:Object(a.jsx)(N.a,{variant:"primary",style:{display:"inline-block"},disabled:!0,children:Object(a.jsx)(M.a,{type:"Puff",height:40,width:40,color:"#1D92FF"})})});return!1===r?Object(a.jsx)(j.a,{to:"/"}):Object(a.jsx)("div",{className:g.root,children:Object(a.jsx)(ue.a,{pageStart:0,loadMore:function(){"tag"===e.page?m(e.tag):x()},hasMore:!u.totalQuestionListSaturated,loader:v,threshold:0,children:Object(a.jsx)("div",{children:u.feedList.map((function(e,t){return Object(a.jsx)(he,{questionData:e},t)}))})})})}function fe(e){var t=Object(j.h)().tag,n=Object(c.useState)(void 0),r=Object(h.a)(n,2),i=r[0],s=r[1];return Object(c.useEffect)((function(){s(t)}),[i]),Object(a.jsx)("div",{className:"main",children:Object(a.jsxs)($.a,{container:!0,children:[Object(a.jsx)($.a,{item:!0,xs:0,sm:2,children:Object(a.jsx)(se,{})}),Object(a.jsxs)($.a,{item:!0,xs:12,sm:10,children:[Object(a.jsx)("div",{className:"main_body",children:Object(a.jsx)(je,{style:{minheight:"15vh"}})}),Object(a.jsx)(pe,{page:e.page,tag:t},e.page+t)]})]})})}var xe=n(289),me=n(111),ge=n(112),ve=n(307),ye=(n(205),n(206),function(e){var t=e.location.state,n=t.AuthorEmail,r=t.content,i=t.name,s=t.tags,o=(t.questionData,Object(l.c)((function(e){return e.user}))),u=Object(j.h)().id,p=Object(c.useState)(!0),f=Object(h.a)(p,2),x=f[0],m=f[1],g=Object(c.useState)([]),v=Object(h.a)(g,2),y=v[0],w=v[1],N=Object(c.useState)(!1),S=Object(h.a)(N,2),T=S[0],_=S[1],k=Object(c.useState)([]),L=Object(h.a)(k,2),A=L[0],C=L[1],E=Object(c.useState)([]),q=Object(h.a)(E,2),P=q[0],B=q[1],F=Object(c.useState)([]),D=Object(h.a)(F,2),W=D[0],R=D[1],V=Object(c.useState)([]),M=Object(h.a)(V,2),U=M[0],Y=M[1],X=Object(c.useRef)(null),Z=function(){var e=Object(b.a)(d.a.mark((function e(){var t,n,a,c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(new O.a).get("idToken"),n=u,e.next=4,fetch("http://localhost:5000/question_answers?id="+n,{method:"GET",headers:{Authorization:"Bearer "+t,"Content-type":"application/json",Accept:"application/json"}});case 4:return a=e.sent,e.next=7,a.json();case 7:(c=e.sent).error?"Please authenticate!"===c.error&&m(!1):(r=[],c.answers.forEach((function(e){var t={author:e.author.email,content:e.content,id:e._id,upvotes:e.upvotes,downvotes:e.downvotes};r.push(t)})),w(r),C(c.answersUpvoted),R(c.answersUpvoted),Y(c.answersDownvoted),B(c.answersDownvoted),_(!0));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(b.a)(d.a.mark((function e(t,n){var a,c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=(new O.a).get("idToken"),""===t){e.next=9;break}return e.next=4,fetch("http://localhost:5000/upvote",{method:"PATCH",headers:{Authorization:"Bearer "+a,"Content-type":"application/json",Accept:"application/json"},body:JSON.stringify({email:o.email,answers:[t]})});case 4:return c=e.sent,e.next=7,c.json();case 7:"Please authenticate!"===e.sent.error&&m(!1);case 9:if(""===n){e.next=17;break}return e.next=12,fetch("http://localhost:5000/downvote",{method:"PATCH",headers:{Authorization:"Bearer "+a,"Content-type":"application/json",Accept:"application/json"},body:JSON.stringify({email:o.email,answers:[n]})});case 12:return r=e.sent,e.next=15,r.json();case 15:"Please authenticate!"===e.sent.error&&m(!1);case 17:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){!1===T&&Z()}),[T]);var $=function(){var e=Object(b.a)(d.a.mark((function e(t){var n,a,c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(new O.a).get("idToken"),e.next=3,fetch("http://localhost:5000/answer",{method:"POST",headers:{Authorization:"Bearer "+n,"Content-type":"application/json",Accept:"application/json"},body:JSON.stringify({email:o.email,question:u,answer:t})});case 3:return a=e.sent,e.next=6,a.json();case 6:(c=e.sent).error?"Please authenticate!"===c.error&&m(!1):((r=Object(I.a)(y)).push({author:o.email,content:t,id:c.answer._id,upvotes:[],downvotes:[]}),w(r));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(b.a)(d.a.mark((function e(t){var n,a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K(t,"");case 2:n=Object(I.a)(A),a=Object(I.a)(P),-1===n.indexOf(t)&&n.push(t),-1!==(c=a.indexOf(t))&&a.splice(c,1),C(n),B(a);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(b.a)(d.a.mark((function e(t){var n,a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K("",t);case 2:n=Object(I.a)(A),a=Object(I.a)(P),-1!==(c=n.indexOf(t))&&n.splice(c,1),-1===a.indexOf(t)&&a.push(t),C(n),B(a);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return!1===x?Object(a.jsx)(j.a,{to:"/"}):Object(a.jsx)(H.a,{children:Object(a.jsxs)(Q.a,{children:[Object(a.jsx)(Q.a,{item:!0,children:Object(a.jsx)(z.a,{sx:{minWidth:650},children:Object(a.jsxs)(ve.a,{children:[Object(a.jsx)(G.a,{sx:{fontSize:15},color:"text.primary",children:Object(a.jsx)("b",{children:i})}),Object(a.jsx)(G.a,{sx:{fontSize:14},color:"text.secondary",gutterBottom:!0,children:Object(a.jsx)("b",{children:n})}),Object(a.jsx)(G.a,{variant:"h5",children:r}),Object(a.jsx)("br",{}),Object(a.jsx)(G.a,{variant:"body2"}),Object(a.jsx)("div",{className:"post__tags",children:s.map((function(e,t){return Object(a.jsx)("div",{className:"tag-ele",children:e},t)}))})]})})}),Object(a.jsx)(Q.a,{xs:12,sx:{minWidth:635,marginTop:5},children:y.map((function(e){var t=-1===A.indexOf(e.id)?0:1,n=-1===P.indexOf(e.id)?0:1,c=-1===W.indexOf(e.id)?0:1,r=-1===U.indexOf(e.id)?0:1,i=e.upvotes.length-e.downvotes.length-(c-r)+t-n;return Object(a.jsx)(z.a,{style:{marginBottom:15},children:Object(a.jsxs)("div",{className:"answer-container",children:[Object(a.jsxs)("div",{className:"vote-container",children:[Object(a.jsx)(me.a,{className:"vote-icon",icon:ge.b,size:"2x",onClick:function(){ee(e.id)},cursor:"pointer",color:0===t?"black":"orange"}),Object(a.jsx)("div",{className:"vote-count-container",children:i}),Object(a.jsx)(me.a,{className:"vote-icon",icon:ge.a,size:"2x",onClick:function(){te(e.id)},cursor:"pointer",color:0===n?"black":"orange"})]}),Object(a.jsxs)(ve.a,{sx:{minHeight:50},children:[Object(a.jsx)(G.a,{sx:{fontSize:14},color:"text.secondary",gutterBottom:!0,children:Object(a.jsx)("b",{children:e.author})}),Object(a.jsx)(G.a,{sx:{fontSize:18,display:"inline-block"},color:"text.primary",children:e.content})]})]})})}))}),Object(a.jsxs)(Q.a,{item:!0,children:[Object(a.jsx)(G.a,{variant:"h5",style:{marginBottom:5},children:"Want to answer?"}),Object(a.jsxs)(z.a,{style:{marginBottom:15},sx:{minWidth:650},children:[Object(a.jsxs)(ve.a,{sx:{minHeight:50},children:[Object(a.jsx)(G.a,{sx:{fontSize:14},color:"text.secondary",gutterBottom:!0}),Object(a.jsx)(xe.a,{ref:X,style:{maxWidth:600,minWidth:600,maxHeight:300,minHeight:300,overflow:"auto"}})]}),Object(a.jsx)("div",{style:{marginBottom:4},children:Object(a.jsx)(J.a,{style:{textDecoration:"none",marginLeft:5,marginRight:5},variant:"contained",color:"primary",onClick:function(){var e=X.current.value;""!==e&&$(e)},children:"Submit"})})]})]})]})})});function we(){return Object(a.jsx)(o.a,{basename:"curiosite",children:Object(a.jsx)(j.d,{children:Object(a.jsxs)(D,{children:[Object(a.jsx)(j.b,{path:"/",exact:!0,children:Object(a.jsx)(fe,{page:"home"})}),Object(a.jsx)(j.b,{path:"/tag_questions/:tag",children:Object(a.jsx)(fe,{page:"tag"})}),Object(a.jsx)(j.b,{path:"/profile",children:Object(a.jsx)(X,{})}),Object(a.jsx)(j.b,{path:"/create_post",children:Object(a.jsx)(te,{})}),Object(a.jsx)(j.b,{component:ye,path:"/question/:id",exact:!0}),Object(a.jsx)(j.b,{path:"*",children:Object(a.jsx)(j.a,{to:"/"})})]})})})}var Ne=n(57),Se=n(138),Te={firstName:"",lastName:"",email:"",id:"",tags:[]},_e={type:"HOME"},ke=[],Le=Object(Ne.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return Object(p.a)({},t.payload);case"LOGOUT":return{initialState:Te};case"PATCH TAGS":return Object(p.a)(Object(p.a)({},e),{},{tags:t.payload});default:return e}},feed:function(){var e=arguments.length>1?arguments[1]:void 0;return void 0!==e.type?Object(p.a)({},e):Object(p.a)({},_e)},tags:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZE":return t.payload?t.payload:[];default:return e}}}),Ae=[Se.a],Ce=Object(Ne.e)(Le,{},Object(Ne.d)(Ne.a.apply(void 0,Ae),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));function Ee(){return Object(a.jsx)("div",{children:Object(a.jsx)(l.a,{store:Ce,children:Object(a.jsx)(we,{})})})}n(207);function qe(){return Object(a.jsx)($.a,{container:!0,xs:12,sm:12,className:"mainBody",children:Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)("div",{className:"form-box",children:[Object(a.jsxs)("div",{className:"header-form",children:[Object(a.jsx)("h4",{className:"text-primary text-center",children:Object(a.jsx)("i",{className:"fa fa-user-circle",style:{fontSize:"110px",color:"white"}})}),Object(a.jsx)("div",{className:"image"})]}),Object(a.jsx)("div",{className:"body-form",children:Object(a.jsxs)("form",{children:[Object(a.jsxs)("div",{className:"input-group mb-3",children:[Object(a.jsx)("div",{className:"input-group-prepend",children:Object(a.jsx)("span",{style:{fontSize:"70px",color:"#c21808",letterSpacing:"1px"},children:" Curiosite "})}),Object(a.jsx)("div",{id:"login-motto",children:Object(a.jsx)("b",{children:"To Ask. To Answer."})})]}),Object(a.jsx)("div",{id:"warning-motto",children:Object(a.jsx)("b",{style:{color:"#c21808"},children:"Please use Institute E-mail to Login"})}),Object(a.jsx)("div",{id:"login-button-section"})]})})]})})})}function Pe(){return Object(a.jsx)("div",{id:"login-section",children:Object(a.jsx)(qe,{})})}function Be(){var e=Object(l.b)(),t=Object(c.useState)(!1),n=Object(h.a)(t,2),r=n[0],i=n[1],s=Object(c.useState)(!1),o=Object(h.a)(s,2),j=o[0],u=o[1];Object(l.c)((function(e){return e.user}));return Object(c.useEffect)((function(){if(!1===r)var e=new O.a,t=setInterval((function(){e.get("idToken")&&(u(!0),clearInterval(t))}),100)}),[r]),Object(c.useEffect)((function(){(function(){var t=Object(b.a)(d.a.mark((function t(){var n,a,c,r,s,o,l,b,h;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!j){t.next=10;break}return n=(new O.a).get("idToken"),u(!1),t.next=5,fetch("http://localhost:5000/googleAuth",{method:"POST",headers:{Authorization:"Bearer "+n,"Content-Type":"application/json",Accept:"application/json"}});case 5:return a=t.sent,t.next=8,a.json();case 8:(c=t.sent).error||(r=c.user,s=r.firstName,o=r.lastName,l=r.email,b=r.id,h=r.tags,e(U(s,o,l,b,h)),e({type:"HOME",tags:[]}),i(!0));case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[j]),!1===r?Object(a.jsx)(Pe,{}):Object(a.jsx)(Ee,{})}n(208);var Fe=function(){return Object(a.jsx)(l.a,{store:Ce,children:Object(a.jsx)(o.a,{children:Object(a.jsx)(j.b,{component:Be,path:"/"})})})};s.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(Fe,{})}),document.getElementById("root"))}},[[209,1,2]]]);
//# sourceMappingURL=main.7cecc38c.chunk.js.map